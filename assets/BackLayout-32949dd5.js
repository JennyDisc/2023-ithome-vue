import{_ as f,a as h,r,o as b,c as w,b as s,d as a,w as v,n as p}from"./index-c8342854.js";import{u as x}from"./AdminLoginStore-7490e017.js";const g={data(){return{name:"",email:"",password:"",id:0}},methods:{isPassword(l){return/^(?=.*[a-z])(?=.*[A-Z])/.test(l)?!0:"密碼 需含大小寫英文字母"},submitOrder(){this.$refs.form.validate().then(l=>{if(l){const o=`http://localhost:3003/admin?email=${this.email}&password=${this.password}`;h.get(o).then(i=>{const t=i.data[0];this.name=t.name,this.email=t.email,this.id=t.id;const e=x();e.updateName(t.name),e.updateEmail(t.email),e.updateId(t.id),alert("登入成功"),this.$refs.form.resetForm(),this.$router.push("/adminlogin/main")}).catch(i=>{console.log(i),alert("資料尚未建檔，請與資訊處聯繫!")})}else alert("請再次確認登入資料後提交")})}}},y={class:"container"},V={class:"row backBlock"},k=s("div",{class:"col"},null,-1),B={class:"col-4 my-auto"},N=s("h1",{class:"mb-4 text-center text-danger"},"華特集團管理頁面",-1),A=s("p",{class:"mb-4 fs-4 text-center"},"歡迎管理者",-1),D={class:"mb-3"},S={class:"mb-4"},C=s("button",{class:"btn btn-lg btn-info w-100 mb-4",type:"submit"}," 登入 ",-1),H=s("div",{class:"col-4 my-auto"},[s("img",{src:"https://images.unsplash.com/photo-1630091003936-aea522c1e8c3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",class:"img-fluid",alt:"管理首頁畫面圖"})],-1),M=s("div",{class:"col"},null,-1);function U(l,o,i,t,e,m){const d=r("v-field"),c=r("error-message"),_=r("v-form");return b(),w("div",y,[s("div",V,[k,s("div",B,[a(_,{id:"form",ref:"form",onSubmit:m.submitOrder,class:"me-4"},{default:v(({errors:u})=>[N,A,s("div",D,[a(d,{type:"text",name:"email",placeholder:"請輸入電子郵件",class:p(["px-3 pe-4 py-2 form-control",{"is-invalid":u.email}]),rules:"required|email",modelValue:e.email,"onUpdate:modelValue":o[0]||(o[0]=n=>e.email=n)},null,8,["modelValue","class"]),a(c,{name:"email",class:"invalid-feedback"})]),s("div",S,[a(d,{type:"password",name:"密碼",placeholder:"請輸入密碼",class:p(["px-3 pe-4 py-2 form-control",{"is-invalid":u.密碼}]),rules:m.isPassword,modelValue:e.password,"onUpdate:modelValue":o[1]||(o[1]=n=>e.password=n)},null,8,["rules","modelValue","class"]),a(c,{name:"密碼",class:"invalid-feedback"})]),C]),_:1},8,["onSubmit"])]),H,M])])}const z=f(g,[["render",U]]);export{z as default};
