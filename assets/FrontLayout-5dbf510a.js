import{_ as b,a as p,r as i,o as v,c as g,b as e,d as o,w as f,n as c,e as w}from"./index-48e79dc0.js";const x={data(){return{name:"",email:"",password:""}},methods:{isPassword(a){return/^(?=.*[a-z])(?=.*[A-Z])/.test(a)?!0:"密碼 需含大小寫英文字母"},submitOrder(){this.$refs.form.validate().then(a=>{a?p.get(`http://localhost:3000/user?email=${this.email}`).then(s=>{s.data&&s.data.length>0?(alert("該電子郵件已註冊過，請直接登入"),this.$refs.form.resetForm(),this.$router.push("/login")):p.post("http://localhost:3000/user",{name:this.name,email:this.email,password:this.password}).then(n=>{console.log(n),alert("註冊成功"),this.$refs.form.resetForm(),this.$router.push("/login")}).catch(n=>{console.log(n),alert("註冊失敗")})}):alert("請確實填寫資料後提交")})}}},V={class:"container"},y={class:"row row-front"},k=e("div",{class:"col"},null,-1),B=e("div",{class:"d-none d-lg-block col-lg-4"},[e("img",{src:"https://images.unsplash.com/photo-1537047902294-62a40c20a6ae?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1935&q=80",class:"img-fluid login-img",alt:"首頁畫面圖"})],-1),N={class:"col-3 my-lg-auto front-form"},D=e("h1",{class:"mb-4 text-center"},"華特義式餐廳",-1),q={class:"mb-3"},A={class:"mb-3"},C={class:"mb-4"},F=e("button",{class:"btn btn-lg btn-primary w-100 mb-4",type:"submit"}," 註冊 ",-1),H={class:"text-end login-buttom"},L=e("div",{class:"col"},null,-1);function M(a,s,n,U,t,u){const r=i("v-field"),d=i("error-message"),_=i("v-form"),h=i("RouterLink");return v(),g("div",V,[e("div",y,[k,B,e("div",N,[o(_,{id:"form",ref:"form",onSubmit:u.submitOrder,class:"pt-5 pt-lg-0"},{default:f(({errors:m})=>[D,e("div",q,[o(r,{type:"text",name:"會員名稱",placeholder:"請輸入會員名稱",class:c(["px-3 pe-4 py-2 form-control",{"is-invalid":m.會員名稱}]),rules:"required",modelValue:t.name,"onUpdate:modelValue":s[0]||(s[0]=l=>t.name=l)},null,8,["modelValue","class"]),o(d,{name:"會員名稱",class:"invalid-feedback"})]),e("div",A,[o(r,{type:"text",name:"email",placeholder:"請輸入電子郵件",class:c(["px-3 pe-4 py-2 form-control",{"is-invalid":m.email}]),rules:"required|email",modelValue:t.email,"onUpdate:modelValue":s[1]||(s[1]=l=>t.email=l)},null,8,["modelValue","class"]),o(d,{name:"email",class:"invalid-feedback"})]),e("div",C,[o(r,{type:"password",name:"密碼",placeholder:"請輸入密碼",class:c(["px-3 pe-4 py-2 form-control",{"is-invalid":m.密碼}]),rules:u.isPassword,modelValue:t.password,"onUpdate:modelValue":s[2]||(s[2]=l=>t.password=l)},null,8,["rules","modelValue","class"]),o(d,{name:"密碼",class:"invalid-feedback"})]),F]),_:1},8,["onSubmit"]),e("div",H,[o(h,{to:"/login"},{default:f(()=>[w("已是會員，請按此登入")]),_:1})])]),L])])}const G=b(x,[["render",M]]);export{G as default};
